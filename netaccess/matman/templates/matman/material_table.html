{% load matman_tags %}
 <table class="table table-striped table-hover sortable-table" id="material_table_{{ name }}">
    <tr>
        {% sortable_fields as fs %}
        {% for slug,title in fs %}
        <th>

            <a id="id_{{ name }}_orderby_{{ slug }}"
               {% if rubric.orderby == slug and rubric.direction == 'asc' %}
               href="{% update_params name|add:"_orderby" slug name|add:"_direction" "desc"  %}"
               {% else %}
               href="{% update_params name|add:"_orderby" slug name|add:"_direction" "asc"  %}"
               {% endif %}
            onclick="checkCollapsables(this)" >
                <span>{{ title }}</span>
                {% if rubric.orderby == slug %}
                {% if rubric.direction == 'desc' %}
                <svg class="bi flex-1" role="img" aria-label="Info:"><use xlink:href="#symbol-decending"/></svg>
                {% else %}
                <svg class="bi flex-1" role="img" aria-label="Info:"><use xlink:href="#symbol-ascending"/></svg>
                {% endif %}
                {% endif %}
            </a>
        </th>
        {% endfor %}
        <th>Tags</th>
        <th></th>
    </tr>
    {% for object in rubric.page %}
    <tr>
        <th><a href="{% url "material-detail" object.identifier %}">{{ object.identifier }}</a></th>
        <td><a href="{% url "profile" object.owner %}">{{ object.owner }}</a></td>
        <td>{{ object.serial_number }}</td>
        <td>{{ object.material_number }}</td>
        <td>{{ object.manufacturer }}</td>
        <td>{{ object.location }}</td>
        <td>
            {% for tag in object.tags.all %}
            <a href="{% url "list-material" %}?tags__name={{ tag }}" class="badge text-bg-light">{{ tag }}</a>
            {% endfor %}
        </td>
        <td class="d-flex flex-row">
            <div class="dropdown p-1">
                <button class="btn btn-outline-secondary m-1" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <svg class="bi flex-shrink-0" role="img" aria-label="Info:"><use xlink:href="#three-dots"/></svg>
                </button>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="{% url "material-edit" object.identifier %}">Edit</a></li>
                  <li><a class="dropdown-item" href="{% url "add-material" %}?reference={{ object.identifier }}">Copy/Clone</a></li>
                </ul>
            </div>
            {% if user.is_authenticated %}
            {% if object in bookmarked %}
            <button class="btn btn-outline-secondary m-1" type="button" title="Bookmarked" value="{{ object.identifier }}" id="id_button_bookmark_{{ object.identifier }}" onclick="toggle_bookmark(this)">
                <svg class="bi flex-shrink-0" role="img" aria-label="Info:"><use xlink:href="#bookmark-check-fill"/></svg>
            </button>
            {% else %}
            <button class="btn btn-outline-secondary m-1" type="button" title="Bookmark" value="{{ object.identifier }}" id="id_button_bookmark_{{ object.identifier }}" onclick="toggle_bookmark(this)">
                <svg class="bi flex-shrink-0" role="img" aria-label="Info:"><use xlink:href="#bookmark"/></svg>
            </button>
            {% endif %}
            {% endif %}
        </td>
    </tr>
    {% empty %}
    <tr><td>None</td></tr>
    {% endfor %}
</table>
{% include "pagination.html" with page_obj=rubric.page prefix=name|add:"_" %}